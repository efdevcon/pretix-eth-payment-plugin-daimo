{% load i18n %}

<div id="daimo-pay-inject-root"></div>

<!-- fix the Place Order button immediately -->
<script>
  window.payment_id = "{{ payment_id|escapejs }}";
  console.log("payment_id: ", window.payment_id);

  console.log("Looking for the place order button...");
  const interval = window.setInterval(() => {
    let btn = document.querySelector('button.btn-primary[type="submit"]');
    if (btn == null) {
        console.log("Button not found yet");
        return;
    }
    window.clearInterval(interval);
    console.log("Replacing the 'Place binding order' button.",);
    btn.textContent = "Place order";
    if (!btn.dataset.payId) {
      btn.disabled = true;
    }
  }, 25);
</script>

<!-- ESM entry for code-split build -->
<script type="module" src="/static/daimo_pay_inject/dist/pretix-eth-5.js"></script>

<p>Place order below. Pay with any token on any chain.</p>
