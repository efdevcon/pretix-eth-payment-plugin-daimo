import{E as f,F as c,a as p,b as u,j as l,k as C}from"./pretix-eth-5-chunk-4MF42RWC.js";import{cc as g,ia as d,na as m}from"./pretix-eth-5-chunk-ZWRX4H4Q.js";async function w(r,o){let{abi:a,account:n=r.account,address:i,args:s,dataSuffix:e,functionName:t,...h}=o;if(typeof n>"u")throw new f({docsPath:"/docs/contract/writeContract"});let x=n?m(n):null,T=d({abi:a,args:s,functionName:t});try{return await p(r,c,"sendTransaction")({data:`${T}${e?e.replace("0x",""):""}`,to:i,account:x,...h})}catch(A){throw u(A,{abi:a,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:t,sender:x?.address})}}async function B(r,o){let{account:a=r.account,chainId:n,nonce:i}=o;if(!a)throw new f({docsPath:"/docs/eip7702/prepareAuthorization"});let s=m(a),e=(()=>{if(o.executor)return o.executor==="self"?o.executor:m(o.executor)})(),t={address:o.contractAddress??o.address,chainId:n,nonce:i};return typeof t.chainId>"u"&&(t.chainId=r.chain?.id??await p(r,C,"getChainId")({})),typeof t.nonce>"u"&&(t.nonce=await p(r,l,"getTransactionCount")({address:s.address,blockTag:"pending"}),(e==="self"||e?.address&&g(e.address,s.address))&&(t.nonce+=1)),t}export{B as a,w as b};
