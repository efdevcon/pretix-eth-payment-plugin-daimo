import{a as he,b as de,h as Vr,m as Yr,n as Et,o as Jr,t as vt}from"./pretix-eth-5-chunk-MCYRL7OX.js";import{a as jr,b as yt,c as kr,d as Hr,e as Kr,f as Wr}from"./pretix-eth-5-chunk-AHVGFHZN.js";import{a as qr}from"./pretix-eth-5-chunk-64QJEAS7.js";import{b as Zo,c as $,d as G,f as Ve,g as Ye}from"./pretix-eth-5-chunk-BIK4PATU.js";var Te={};G(Te,{__assign:()=>Ft,__asyncDelegator:()=>fi,__asyncGenerator:()=>ci,__asyncValues:()=>li,__await:()=>Oe,__awaiter:()=>ni,__classPrivateFieldGet:()=>Di,__classPrivateFieldSet:()=>bi,__createBinding:()=>ii,__decorate:()=>ei,__exportStar:()=>si,__extends:()=>Xo,__generator:()=>oi,__importDefault:()=>pi,__importStar:()=>di,__makeTemplateObject:()=>hi,__metadata:()=>ri,__param:()=>ti,__read:()=>$r,__rest:()=>Qo,__spread:()=>ai,__spreadArrays:()=>ui,__values:()=>Ct});function Xo(e,t){xt(e,t);function r(){this.constructor=e}e.prototype=t===null?Object.create(t):(r.prototype=t.prototype,new r)}function Qo(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(e);o<n.length;o++)t.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(e,n[o])&&(r[n[o]]=e[n[o]]);return r}function ei(e,t,r,n){var o=arguments.length,i=o<3?t:n===null?n=Object.getOwnPropertyDescriptor(t,r):n,u;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")i=Reflect.decorate(e,t,r,n);else for(var f=e.length-1;f>=0;f--)(u=e[f])&&(i=(o<3?u(i):o>3?u(t,r,i):u(t,r))||i);return o>3&&i&&Object.defineProperty(t,r,i),i}function ti(e,t){return function(r,n){t(r,n,e)}}function ri(e,t){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(e,t)}function ni(e,t,r,n){function o(i){return i instanceof r?i:new r(function(u){u(i)})}return new(r||(r=Promise))(function(i,u){function f(a){try{s(n.next(a))}catch(l){u(l)}}function c(a){try{s(n.throw(a))}catch(l){u(l)}}function s(a){a.done?i(a.value):o(a.value).then(f,c)}s((n=n.apply(e,t||[])).next())})}function oi(e,t){var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},n,o,i,u;return u={next:f(0),throw:f(1),return:f(2)},typeof Symbol=="function"&&(u[Symbol.iterator]=function(){return this}),u;function f(s){return function(a){return c([s,a])}}function c(s){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,o&&(i=s[0]&2?o.return:s[0]?o.throw||((i=o.return)&&i.call(o),0):o.next)&&!(i=i.call(o,s[1])).done)return i;switch(o=0,i&&(s=[s[0]&2,i.value]),s[0]){case 0:case 1:i=s;break;case 4:return r.label++,{value:s[1],done:!1};case 5:r.label++,o=s[1],s=[0];continue;case 7:s=r.ops.pop(),r.trys.pop();continue;default:if(i=r.trys,!(i=i.length>0&&i[i.length-1])&&(s[0]===6||s[0]===2)){r=0;continue}if(s[0]===3&&(!i||s[1]>i[0]&&s[1]<i[3])){r.label=s[1];break}if(s[0]===6&&r.label<i[1]){r.label=i[1],i=s;break}if(i&&r.label<i[2]){r.label=i[2],r.ops.push(s);break}i[2]&&r.ops.pop(),r.trys.pop();continue}s=t.call(e,r)}catch(a){s=[6,a],o=0}finally{n=i=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function ii(e,t,r,n){n===void 0&&(n=r),e[n]=t[r]}function si(e,t){for(var r in e)r!=="default"&&!t.hasOwnProperty(r)&&(t[r]=e[r])}function Ct(e){var t=typeof Symbol=="function"&&Symbol.iterator,r=t&&e[t],n=0;if(r)return r.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&n>=e.length&&(e=void 0),{value:e&&e[n++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function $r(e,t){var r=typeof Symbol=="function"&&e[Symbol.iterator];if(!r)return e;var n=r.call(e),o,i=[],u;try{for(;(t===void 0||t-- >0)&&!(o=n.next()).done;)i.push(o.value)}catch(f){u={error:f}}finally{try{o&&!o.done&&(r=n.return)&&r.call(n)}finally{if(u)throw u.error}}return i}function ai(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat($r(arguments[t]));return e}function ui(){for(var e=0,t=0,r=arguments.length;t<r;t++)e+=arguments[t].length;for(var n=Array(e),o=0,t=0;t<r;t++)for(var i=arguments[t],u=0,f=i.length;u<f;u++,o++)n[o]=i[u];return n}function Oe(e){return this instanceof Oe?(this.v=e,this):new Oe(e)}function ci(e,t,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(e,t||[]),o,i=[];return o={},u("next"),u("throw"),u("return"),o[Symbol.asyncIterator]=function(){return this},o;function u(h){n[h]&&(o[h]=function(p){return new Promise(function(d,g){i.push([h,p,d,g])>1||f(h,p)})})}function f(h,p){try{c(n[h](p))}catch(d){l(i[0][3],d)}}function c(h){h.value instanceof Oe?Promise.resolve(h.value.v).then(s,a):l(i[0][2],h)}function s(h){f("next",h)}function a(h){f("throw",h)}function l(h,p){h(p),i.shift(),i.length&&f(i[0][0],i[0][1])}}function fi(e){var t,r;return t={},n("next"),n("throw",function(o){throw o}),n("return"),t[Symbol.iterator]=function(){return this},t;function n(o,i){t[o]=e[o]?function(u){return(r=!r)?{value:Oe(e[o](u)),done:o==="return"}:i?i(u):u}:i}}function li(e){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t=e[Symbol.asyncIterator],r;return t?t.call(e):(e=typeof Ct=="function"?Ct(e):e[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(i){r[i]=e[i]&&function(u){return new Promise(function(f,c){u=e[i](u),o(f,c,u.done,u.value)})}}function o(i,u,f,c){Promise.resolve(c).then(function(s){i({value:s,done:f})},u)}}function hi(e,t){return Object.defineProperty?Object.defineProperty(e,"raw",{value:t}):e.raw=t,e}function di(e){if(e&&e.__esModule)return e;var t={};if(e!=null)for(var r in e)Object.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t.default=e,t}function pi(e){return e&&e.__esModule?e:{default:e}}function Di(e,t){if(!t.has(e))throw new TypeError("attempted to get private field on non-instance");return t.get(e)}function bi(e,t,r){if(!t.has(e))throw new TypeError("attempted to set private field on non-instance");return t.set(e,r),r}var xt,Ft,Ne=Zo(()=>{xt=function(e,t){return xt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var o in n)n.hasOwnProperty(o)&&(r[o]=n[o])},xt(e,t)};Ft=function(){return Ft=Object.assign||function(t){for(var r,n=1,o=arguments.length;n<o;n++){r=arguments[n];for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Ft.apply(this,arguments)}});var Gr=$(Je=>{"use strict";Object.defineProperty(Je,"__esModule",{value:!0});Je.delay=void 0;function gi(e){return new Promise(t=>{setTimeout(()=>{t(!0)},e)})}Je.delay=gi});var Zr=$(we=>{"use strict";Object.defineProperty(we,"__esModule",{value:!0});we.ONE_THOUSAND=we.ONE_HUNDRED=void 0;we.ONE_HUNDRED=100;we.ONE_THOUSAND=1e3});var Xr=$(m=>{"use strict";Object.defineProperty(m,"__esModule",{value:!0});m.ONE_YEAR=m.FOUR_WEEKS=m.THREE_WEEKS=m.TWO_WEEKS=m.ONE_WEEK=m.THIRTY_DAYS=m.SEVEN_DAYS=m.FIVE_DAYS=m.THREE_DAYS=m.ONE_DAY=m.TWENTY_FOUR_HOURS=m.TWELVE_HOURS=m.SIX_HOURS=m.THREE_HOURS=m.ONE_HOUR=m.SIXTY_MINUTES=m.THIRTY_MINUTES=m.TEN_MINUTES=m.FIVE_MINUTES=m.ONE_MINUTE=m.SIXTY_SECONDS=m.THIRTY_SECONDS=m.TEN_SECONDS=m.FIVE_SECONDS=m.ONE_SECOND=void 0;m.ONE_SECOND=1;m.FIVE_SECONDS=5;m.TEN_SECONDS=10;m.THIRTY_SECONDS=30;m.SIXTY_SECONDS=60;m.ONE_MINUTE=m.SIXTY_SECONDS;m.FIVE_MINUTES=m.ONE_MINUTE*5;m.TEN_MINUTES=m.ONE_MINUTE*10;m.THIRTY_MINUTES=m.ONE_MINUTE*30;m.SIXTY_MINUTES=m.ONE_MINUTE*60;m.ONE_HOUR=m.SIXTY_MINUTES;m.THREE_HOURS=m.ONE_HOUR*3;m.SIX_HOURS=m.ONE_HOUR*6;m.TWELVE_HOURS=m.ONE_HOUR*12;m.TWENTY_FOUR_HOURS=m.ONE_HOUR*24;m.ONE_DAY=m.TWENTY_FOUR_HOURS;m.THREE_DAYS=m.ONE_DAY*3;m.FIVE_DAYS=m.ONE_DAY*5;m.SEVEN_DAYS=m.ONE_DAY*7;m.THIRTY_DAYS=m.ONE_DAY*30;m.ONE_WEEK=m.SEVEN_DAYS;m.TWO_WEEKS=m.ONE_WEEK*2;m.THREE_WEEKS=m.ONE_WEEK*3;m.FOUR_WEEKS=m.ONE_WEEK*4;m.ONE_YEAR=m.ONE_DAY*365});var St=$($e=>{"use strict";Object.defineProperty($e,"__esModule",{value:!0});var Qr=(Ne(),Ye(Te));Qr.__exportStar(Zr(),$e);Qr.__exportStar(Xr(),$e)});var tn=$(ye=>{"use strict";Object.defineProperty(ye,"__esModule",{value:!0});ye.fromMiliseconds=ye.toMiliseconds=void 0;var en=St();function mi(e){return e*en.ONE_THOUSAND}ye.toMiliseconds=mi;function wi(e){return Math.floor(e/en.ONE_THOUSAND)}ye.fromMiliseconds=wi});var nn=$(Ge=>{"use strict";Object.defineProperty(Ge,"__esModule",{value:!0});var rn=(Ne(),Ye(Te));rn.__exportStar(Gr(),Ge);rn.__exportStar(tn(),Ge)});var on=$(Ue=>{"use strict";Object.defineProperty(Ue,"__esModule",{value:!0});Ue.Watch=void 0;var Ze=class{constructor(){this.timestamps=new Map}start(t){if(this.timestamps.has(t))throw new Error(`Watch already started for label: ${t}`);this.timestamps.set(t,{started:Date.now()})}stop(t){let r=this.get(t);if(typeof r.elapsed<"u")throw new Error(`Watch already stopped for label: ${t}`);let n=Date.now()-r.started;this.timestamps.set(t,{started:r.started,elapsed:n})}get(t){let r=this.timestamps.get(t);if(typeof r>"u")throw new Error(`No timestamp found for label: ${t}`);return r}elapsed(t){let r=this.get(t);return r.elapsed||Date.now()-r.started}};Ue.Watch=Ze;Ue.default=Ze});var sn=$(Xe=>{"use strict";Object.defineProperty(Xe,"__esModule",{value:!0});Xe.IWatch=void 0;var _t=class{};Xe.IWatch=_t});var an=$(At=>{"use strict";Object.defineProperty(At,"__esModule",{value:!0});var yi=(Ne(),Ye(Te));yi.__exportStar(sn(),At)});var It=$(Ee=>{"use strict";Object.defineProperty(Ee,"__esModule",{value:!0});var Qe=(Ne(),Ye(Te));Qe.__exportStar(nn(),Ee);Qe.__exportStar(on(),Ee);Qe.__exportStar(an(),Ee);Qe.__exportStar(St(),Ee)});var un=$(R=>{"use strict";Object.defineProperty(R,"__esModule",{value:!0});R.getLocalStorage=R.getLocalStorageOrThrow=R.getCrypto=R.getCryptoOrThrow=R.getLocation=R.getLocationOrThrow=R.getNavigator=R.getNavigatorOrThrow=R.getDocument=R.getDocumentOrThrow=R.getFromWindowOrThrow=R.getFromWindow=void 0;function pe(e){let t;return typeof window<"u"&&typeof window[e]<"u"&&(t=window[e]),t}R.getFromWindow=pe;function ve(e){let t=pe(e);if(!t)throw new Error(`${e} is not defined in Window`);return t}R.getFromWindowOrThrow=ve;function Ei(){return ve("document")}R.getDocumentOrThrow=Ei;function vi(){return pe("document")}R.getDocument=vi;function xi(){return ve("navigator")}R.getNavigatorOrThrow=xi;function Fi(){return pe("navigator")}R.getNavigator=Fi;function Ci(){return ve("location")}R.getLocationOrThrow=Ci;function Si(){return pe("location")}R.getLocation=Si;function _i(){return ve("crypto")}R.getCryptoOrThrow=_i;function Ai(){return pe("crypto")}R.getCrypto=Ai;function Ii(){return ve("localStorage")}R.getLocalStorageOrThrow=Ii;function Bi(){return pe("localStorage")}R.getLocalStorage=Bi});var Ti=$(et=>{"use strict";Object.defineProperty(et,"__esModule",{value:!0});et.getWindowMetadata=void 0;var cn=un();function Oi(){let e,t;try{e=cn.getDocumentOrThrow(),t=cn.getLocationOrThrow()}catch{return null}function r(){let l=e.getElementsByTagName("link"),h=[];for(let p=0;p<l.length;p++){let d=l[p],g=d.getAttribute("rel");if(g&&g.toLowerCase().indexOf("icon")>-1){let w=d.getAttribute("href");if(w)if(w.toLowerCase().indexOf("https:")===-1&&w.toLowerCase().indexOf("http:")===-1&&w.indexOf("//")!==0){let x=t.protocol+"//"+t.host;if(w.indexOf("/")===0)x+=w;else{let C=t.pathname.split("/");C.pop();let D=C.join("/");x+=D+"/"+w}h.push(x)}else if(w.indexOf("//")===0){let x=t.protocol+w;h.push(x)}else h.push(w)}}return h}function n(...l){let h=e.getElementsByTagName("meta");for(let p=0;p<h.length;p++){let d=h[p],g=["itemprop","property","name"].map(w=>d.getAttribute(w)).filter(w=>w?l.includes(w):!1);if(g.length&&g){let w=d.getAttribute("content");if(w)return w}}return""}function o(){let l=n("name","og:site_name","og:title","twitter:title");return l||(l=e.title),l}function i(){return n("description","og:description","twitter:description","keywords")}let u=o(),f=i(),c=t.origin,s=r();return{description:f,url:c,icons:s,name:u}}et.getWindowMetadata=Oi});var Mo=$((Rl,Lo)=>{"use strict";Lo.exports=function(){throw new Error("ws does not work in the browser. Browser clients must use the native WebSocket object")}});var An=Ve(It());function Ni(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function In(e,...t){if(!Ni(e))throw new Error("Uint8Array expected");if(t.length>0&&!t.includes(e.length))throw new Error("Uint8Array expected of length "+t+", got length="+e.length)}function fn(e,t=!0){if(e.destroyed)throw new Error("Hash instance has been destroyed");if(t&&e.finished)throw new Error("Hash#digest() has already been called")}function Ui(e,t){In(e);let r=t.outputLen;if(e.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}var xe=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;var Bt=e=>new DataView(e.buffer,e.byteOffset,e.byteLength);function Ri(e){if(typeof e!="string")throw new Error("utf8ToBytes expected string, got "+typeof e);return new Uint8Array(new TextEncoder().encode(e))}function Bn(e){return typeof e=="string"&&(e=Ri(e)),In(e),e}var Mt=class{clone(){return this._cloneInto()}};function Pi(e){let t=n=>e().update(Bn(n)).digest(),r=e();return t.outputLen=r.outputLen,t.blockLen=r.blockLen,t.create=()=>e(),t}function On(e=32){if(xe&&typeof xe.getRandomValues=="function")return xe.getRandomValues(new Uint8Array(e));if(xe&&typeof xe.randomBytes=="function")return xe.randomBytes(e);throw new Error("crypto.getRandomValues must be defined")}function Li(e,t,r,n){if(typeof e.setBigUint64=="function")return e.setBigUint64(t,r,n);let o=BigInt(32),i=BigInt(4294967295),u=Number(r>>o&i),f=Number(r&i),c=n?4:0,s=n?0:4;e.setUint32(t+c,u,n),e.setUint32(t+s,f,n)}var zt=class extends Mt{constructor(t,r,n,o){super(),this.blockLen=t,this.outputLen=r,this.padOffset=n,this.isLE=o,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(t),this.view=Bt(this.buffer)}update(t){fn(this);let{view:r,buffer:n,blockLen:o}=this;t=Bn(t);let i=t.length;for(let u=0;u<i;){let f=Math.min(o-this.pos,i-u);if(f===o){let c=Bt(t);for(;o<=i-u;u+=o)this.process(c,u);continue}n.set(t.subarray(u,u+f),this.pos),this.pos+=f,u+=f,this.pos===o&&(this.process(r,0),this.pos=0)}return this.length+=t.length,this.roundClean(),this}digestInto(t){fn(this),Ui(t,this),this.finished=!0;let{buffer:r,view:n,blockLen:o,isLE:i}=this,{pos:u}=this;r[u++]=128,this.buffer.subarray(u).fill(0),this.padOffset>o-u&&(this.process(n,0),u=0);for(let l=u;l<o;l++)r[l]=0;Li(n,o-8,BigInt(this.length*8),i),this.process(n,0);let f=Bt(t),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");let s=c/4,a=this.get();if(s>a.length)throw new Error("_sha2: outputLen bigger than state");for(let l=0;l<s;l++)f.setUint32(4*l,a[l],i)}digest(){let{buffer:t,outputLen:r}=this;this.digestInto(t);let n=t.slice(0,r);return this.destroy(),n}_cloneInto(t){t||(t=new this.constructor),t.set(...this.get());let{blockLen:r,buffer:n,length:o,finished:i,destroyed:u,pos:f}=this;return t.length=o,t.pos=f,t.finished=i,t.destroyed=u,o%r&&t.buffer.set(n),t}},tt=BigInt(2**32-1),jt=BigInt(32);function Tn(e,t=!1){return t?{h:Number(e&tt),l:Number(e>>jt&tt)}:{h:Number(e>>jt&tt)|0,l:Number(e&tt)|0}}function Mi(e,t=!1){let r=new Uint32Array(e.length),n=new Uint32Array(e.length);for(let o=0;o<e.length;o++){let{h:i,l:u}=Tn(e[o],t);[r[o],n[o]]=[i,u]}return[r,n]}var zi=(e,t)=>BigInt(e>>>0)<<jt|BigInt(t>>>0),ji=(e,t,r)=>e>>>r,ki=(e,t,r)=>e<<32-r|t>>>r,Hi=(e,t,r)=>e>>>r|t<<32-r,Ki=(e,t,r)=>e<<32-r|t>>>r,Wi=(e,t,r)=>e<<64-r|t>>>r-32,qi=(e,t,r)=>e>>>r-32|t<<64-r,Vi=(e,t)=>t,Yi=(e,t)=>e,Ji=(e,t,r)=>e<<r|t>>>32-r,$i=(e,t,r)=>t<<r|e>>>32-r,Gi=(e,t,r)=>t<<r-32|e>>>64-r,Zi=(e,t,r)=>e<<r-32|t>>>64-r;function Xi(e,t,r,n){let o=(t>>>0)+(n>>>0);return{h:e+r+(o/2**32|0)|0,l:o|0}}var Qi=(e,t,r)=>(e>>>0)+(t>>>0)+(r>>>0),es=(e,t,r,n)=>t+r+n+(e/2**32|0)|0,ts=(e,t,r,n)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0),rs=(e,t,r,n,o)=>t+r+n+o+(e/2**32|0)|0,ns=(e,t,r,n,o)=>(e>>>0)+(t>>>0)+(r>>>0)+(n>>>0)+(o>>>0),os=(e,t,r,n,o,i)=>t+r+n+o+i+(e/2**32|0)|0,S={fromBig:Tn,split:Mi,toBig:zi,shrSH:ji,shrSL:ki,rotrSH:Hi,rotrSL:Ki,rotrBH:Wi,rotrBL:qi,rotr32H:Vi,rotr32L:Yi,rotlSH:Ji,rotlSL:$i,rotlBH:Gi,rotlBL:Zi,add:Xi,add3L:Qi,add3H:es,add4L:ts,add4H:rs,add5H:os,add5L:ns},[is,ss]=S.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(e=>BigInt(e))),ae=new Uint32Array(80),ue=new Uint32Array(80),kt=class extends zt{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){let{Ah:t,Al:r,Bh:n,Bl:o,Ch:i,Cl:u,Dh:f,Dl:c,Eh:s,El:a,Fh:l,Fl:h,Gh:p,Gl:d,Hh:g,Hl:w}=this;return[t,r,n,o,i,u,f,c,s,a,l,h,p,d,g,w]}set(t,r,n,o,i,u,f,c,s,a,l,h,p,d,g,w){this.Ah=t|0,this.Al=r|0,this.Bh=n|0,this.Bl=o|0,this.Ch=i|0,this.Cl=u|0,this.Dh=f|0,this.Dl=c|0,this.Eh=s|0,this.El=a|0,this.Fh=l|0,this.Fl=h|0,this.Gh=p|0,this.Gl=d|0,this.Hh=g|0,this.Hl=w|0}process(t,r){for(let D=0;D<16;D++,r+=4)ae[D]=t.getUint32(r),ue[D]=t.getUint32(r+=4);for(let D=16;D<80;D++){let F=ae[D-15]|0,_=ue[D-15]|0,N=S.rotrSH(F,_,1)^S.rotrSH(F,_,8)^S.shrSH(F,_,7),O=S.rotrSL(F,_,1)^S.rotrSL(F,_,8)^S.shrSL(F,_,7),A=ae[D-2]|0,P=ue[D-2]|0,ge=S.rotrSH(A,P,19)^S.rotrBH(A,P,61)^S.shrSH(A,P,6),fe=S.rotrSL(A,P,19)^S.rotrBL(A,P,61)^S.shrSL(A,P,6),me=S.add4L(O,fe,ue[D-7],ue[D-16]),Be=S.add4H(me,N,ge,ae[D-7],ae[D-16]);ae[D]=Be|0,ue[D]=me|0}let{Ah:n,Al:o,Bh:i,Bl:u,Ch:f,Cl:c,Dh:s,Dl:a,Eh:l,El:h,Fh:p,Fl:d,Gh:g,Gl:w,Hh:x,Hl:C}=this;for(let D=0;D<80;D++){let F=S.rotrSH(l,h,14)^S.rotrSH(l,h,18)^S.rotrBH(l,h,41),_=S.rotrSL(l,h,14)^S.rotrSL(l,h,18)^S.rotrBL(l,h,41),N=l&p^~l&g,O=h&d^~h&w,A=S.add5L(C,_,O,ss[D],ue[D]),P=S.add5H(A,x,F,N,is[D],ae[D]),ge=A|0,fe=S.rotrSH(n,o,28)^S.rotrBH(n,o,34)^S.rotrBH(n,o,39),me=S.rotrSL(n,o,28)^S.rotrBL(n,o,34)^S.rotrBL(n,o,39),Be=n&i^n&f^i&f,mt=o&u^o&c^u&c;x=g|0,C=w|0,g=p|0,w=d|0,p=l|0,d=h|0,{h:l,l:h}=S.add(s|0,a|0,P|0,ge|0),s=f|0,a=c|0,f=i|0,c=u|0,i=n|0,u=o|0;let E=S.add3L(ge,me,mt);n=S.add3H(E,P,fe,Be),o=E|0}({h:n,l:o}=S.add(this.Ah|0,this.Al|0,n|0,o|0)),{h:i,l:u}=S.add(this.Bh|0,this.Bl|0,i|0,u|0),{h:f,l:c}=S.add(this.Ch|0,this.Cl|0,f|0,c|0),{h:s,l:a}=S.add(this.Dh|0,this.Dl|0,s|0,a|0),{h:l,l:h}=S.add(this.Eh|0,this.El|0,l|0,h|0),{h:p,l:d}=S.add(this.Fh|0,this.Fl|0,p|0,d|0),{h:g,l:w}=S.add(this.Gh|0,this.Gl|0,g|0,w|0),{h:x,l:C}=S.add(this.Hh|0,this.Hl|0,x|0,C|0),this.set(n,o,i,u,f,c,s,a,l,h,p,d,g,w,x,C)}roundClean(){ae.fill(0),ue.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},as=Pi(()=>new kt);var Xt=BigInt(0),Nn=BigInt(1),us=BigInt(2);function Qt(e){return e instanceof Uint8Array||ArrayBuffer.isView(e)&&e.constructor.name==="Uint8Array"}function er(e){if(!Qt(e))throw new Error("Uint8Array expected")}function Ot(e,t){if(typeof t!="boolean")throw new Error(e+" boolean expected, got "+t)}var cs=Array.from({length:256},(e,t)=>t.toString(16).padStart(2,"0"));function tr(e){er(e);let t="";for(let r=0;r<e.length;r++)t+=cs[e[r]];return t}function Un(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);return e===""?Xt:BigInt("0x"+e)}var ne={_0:48,_9:57,A:65,F:70,a:97,f:102};function ln(e){if(e>=ne._0&&e<=ne._9)return e-ne._0;if(e>=ne.A&&e<=ne.F)return e-(ne.A-10);if(e>=ne.a&&e<=ne.f)return e-(ne.a-10)}function Rn(e){if(typeof e!="string")throw new Error("hex string expected, got "+typeof e);let t=e.length,r=t/2;if(t%2)throw new Error("hex string expected, got unpadded hex of length "+t);let n=new Uint8Array(r);for(let o=0,i=0;o<r;o++,i+=2){let u=ln(e.charCodeAt(i)),f=ln(e.charCodeAt(i+1));if(u===void 0||f===void 0){let c=e[i]+e[i+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+i)}n[o]=u*16+f}return n}function fs(e){return Un(tr(e))}function ot(e){return er(e),Un(tr(Uint8Array.from(e).reverse()))}function Pn(e,t){return Rn(e.toString(16).padStart(t*2,"0"))}function Ht(e,t){return Pn(e,t).reverse()}function oe(e,t,r){let n;if(typeof t=="string")try{n=Rn(t)}catch(i){throw new Error(e+" must be hex string or Uint8Array, cause: "+i)}else if(Qt(t))n=Uint8Array.from(t);else throw new Error(e+" must be hex string or Uint8Array");let o=n.length;if(typeof r=="number"&&o!==r)throw new Error(e+" of length "+r+" expected, got "+o);return n}function hn(...e){let t=0;for(let n=0;n<e.length;n++){let o=e[n];er(o),t+=o.length}let r=new Uint8Array(t);for(let n=0,o=0;n<e.length;n++){let i=e[n];r.set(i,o),o+=i.length}return r}var Tt=e=>typeof e=="bigint"&&Xt<=e;function ls(e,t,r){return Tt(e)&&Tt(t)&&Tt(r)&&t<=e&&e<r}function Re(e,t,r,n){if(!ls(t,r,n))throw new Error("expected valid "+e+": "+r+" <= n < "+n+", got "+t)}function hs(e){let t;for(t=0;e>Xt;e>>=Nn,t+=1);return t}var ds=e=>(us<<BigInt(e-1))-Nn,ps={bigint:e=>typeof e=="bigint",function:e=>typeof e=="function",boolean:e=>typeof e=="boolean",string:e=>typeof e=="string",stringOrUint8Array:e=>typeof e=="string"||Qt(e),isSafeInteger:e=>Number.isSafeInteger(e),array:e=>Array.isArray(e),field:(e,t)=>t.Fp.isValid(e),hash:e=>typeof e=="function"&&Number.isSafeInteger(e.outputLen)};function rr(e,t,r={}){let n=(o,i,u)=>{let f=ps[i];if(typeof f!="function")throw new Error("invalid validator function");let c=e[o];if(!(u&&c===void 0)&&!f(c,e))throw new Error("param "+String(o)+" is invalid. Expected "+i+", got "+c)};for(let[o,i]of Object.entries(t))n(o,i,!1);for(let[o,i]of Object.entries(r))n(o,i,!0);return e}function dn(e){let t=new WeakMap;return(r,...n)=>{let o=t.get(r);if(o!==void 0)return o;let i=e(r,...n);return t.set(r,i),i}}var K=BigInt(0),j=BigInt(1),De=BigInt(2),Ds=BigInt(3),Kt=BigInt(4),pn=BigInt(5),Dn=BigInt(8);function k(e,t){let r=e%t;return r>=K?r:t+r}function bs(e,t,r){if(t<K)throw new Error("invalid exponent, negatives unsupported");if(r<=K)throw new Error("invalid modulus");if(r===j)return K;let n=j;for(;t>K;)t&j&&(n=n*e%r),e=e*e%r,t>>=j;return n}function Q(e,t,r){let n=e;for(;t-- >K;)n*=n,n%=r;return n}function bn(e,t){if(e===K)throw new Error("invert: expected non-zero number");if(t<=K)throw new Error("invert: expected positive modulus, got "+t);let r=k(e,t),n=t,o=K,i=j;for(;r!==K;){let u=n/r,f=n%r,c=o-i*u;n=r,r=f,o=i,i=c}if(n!==j)throw new Error("invert: does not exist");return k(o,t)}function gs(e){let t=(e-j)/De,r,n,o;for(r=e-j,n=0;r%De===K;r/=De,n++);for(o=De;o<e&&bs(o,t,e)!==e-j;o++)if(o>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){let u=(e+j)/Kt;return function(f,c){let s=f.pow(c,u);if(!f.eql(f.sqr(s),c))throw new Error("Cannot find square root");return s}}let i=(r+j)/De;return function(u,f){if(u.pow(f,t)===u.neg(u.ONE))throw new Error("Cannot find square root");let c=n,s=u.pow(u.mul(u.ONE,o),r),a=u.pow(f,i),l=u.pow(f,r);for(;!u.eql(l,u.ONE);){if(u.eql(l,u.ZERO))return u.ZERO;let h=1;for(let d=u.sqr(l);h<c&&!u.eql(d,u.ONE);h++)d=u.sqr(d);let p=u.pow(s,j<<BigInt(c-h-1));s=u.sqr(p),a=u.mul(a,p),l=u.mul(l,s),c=h}return a}}function ms(e){if(e%Kt===Ds){let t=(e+j)/Kt;return function(r,n){let o=r.pow(n,t);if(!r.eql(r.sqr(o),n))throw new Error("Cannot find square root");return o}}if(e%Dn===pn){let t=(e-pn)/Dn;return function(r,n){let o=r.mul(n,De),i=r.pow(o,t),u=r.mul(n,i),f=r.mul(r.mul(u,De),i),c=r.mul(u,r.sub(f,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return gs(e)}var ws=(e,t)=>(k(e,t)&j)===j,ys=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Es(e){let t={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=ys.reduce((n,o)=>(n[o]="function",n),t);return rr(e,r)}function vs(e,t,r){if(r<K)throw new Error("invalid exponent, negatives unsupported");if(r===K)return e.ONE;if(r===j)return t;let n=e.ONE,o=t;for(;r>K;)r&j&&(n=e.mul(n,o)),o=e.sqr(o),r>>=j;return n}function xs(e,t){let r=new Array(t.length),n=t.reduce((i,u,f)=>e.is0(u)?i:(r[f]=i,e.mul(i,u)),e.ONE),o=e.inv(n);return t.reduceRight((i,u,f)=>e.is0(u)?i:(r[f]=e.mul(i,r[f]),e.mul(i,u)),o),r}function Ln(e,t){let r=t!==void 0?t:e.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Mn(e,t,r=!1,n={}){if(e<=K)throw new Error("invalid field: expected ORDER > 0, got "+e);let{nBitLength:o,nByteLength:i}=Ln(e,t);if(i>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let u,f=Object.freeze({ORDER:e,isLE:r,BITS:o,BYTES:i,MASK:ds(o),ZERO:K,ONE:j,create:c=>k(c,e),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return K<=c&&c<e},is0:c=>c===K,isOdd:c=>(c&j)===j,neg:c=>k(-c,e),eql:(c,s)=>c===s,sqr:c=>k(c*c,e),add:(c,s)=>k(c+s,e),sub:(c,s)=>k(c-s,e),mul:(c,s)=>k(c*s,e),pow:(c,s)=>vs(f,c,s),div:(c,s)=>k(c*bn(s,e),e),sqrN:c=>c*c,addN:(c,s)=>c+s,subN:(c,s)=>c-s,mulN:(c,s)=>c*s,inv:c=>bn(c,e),sqrt:n.sqrt||(c=>(u||(u=ms(e)),u(f,c))),invertBatch:c=>xs(f,c),cmov:(c,s,a)=>a?s:c,toBytes:c=>r?Ht(c,i):Pn(c,i),fromBytes:c=>{if(c.length!==i)throw new Error("Field.fromBytes: expected "+i+" bytes, got "+c.length);return r?ot(c):fs(c)}});return Object.freeze(f)}var gn=BigInt(0),rt=BigInt(1);function Nt(e,t){let r=t.negate();return e?r:t}function zn(e,t){if(!Number.isSafeInteger(e)||e<=0||e>t)throw new Error("invalid window size, expected [1.."+t+"], got W="+e)}function Ut(e,t){zn(e,t);let r=Math.ceil(t/e)+1,n=2**(e-1);return{windows:r,windowSize:n}}function Fs(e,t){if(!Array.isArray(e))throw new Error("array expected");e.forEach((r,n)=>{if(!(r instanceof t))throw new Error("invalid point at index "+n)})}function Cs(e,t){if(!Array.isArray(e))throw new Error("array of scalars expected");e.forEach((r,n)=>{if(!t.isValid(r))throw new Error("invalid scalar at index "+n)})}var Rt=new WeakMap,jn=new WeakMap;function Pt(e){return jn.get(e)||1}function Ss(e,t){return{constTimeNegate:Nt,hasPrecomputes(r){return Pt(r)!==1},unsafeLadder(r,n,o=e.ZERO){let i=r;for(;n>gn;)n&rt&&(o=o.add(i)),i=i.double(),n>>=rt;return o},precomputeWindow(r,n){let{windows:o,windowSize:i}=Ut(n,t),u=[],f=r,c=f;for(let s=0;s<o;s++){c=f,u.push(c);for(let a=1;a<i;a++)c=c.add(f),u.push(c);f=c.double()}return u},wNAF(r,n,o){let{windows:i,windowSize:u}=Ut(r,t),f=e.ZERO,c=e.BASE,s=BigInt(2**r-1),a=2**r,l=BigInt(r);for(let h=0;h<i;h++){let p=h*u,d=Number(o&s);o>>=l,d>u&&(d-=a,o+=rt);let g=p,w=p+Math.abs(d)-1,x=h%2!==0,C=d<0;d===0?c=c.add(Nt(x,n[g])):f=f.add(Nt(C,n[w]))}return{p:f,f:c}},wNAFUnsafe(r,n,o,i=e.ZERO){let{windows:u,windowSize:f}=Ut(r,t),c=BigInt(2**r-1),s=2**r,a=BigInt(r);for(let l=0;l<u;l++){let h=l*f;if(o===gn)break;let p=Number(o&c);if(o>>=a,p>f&&(p-=s,o+=rt),p===0)continue;let d=n[h+Math.abs(p)-1];p<0&&(d=d.negate()),i=i.add(d)}return i},getPrecomputes(r,n,o){let i=Rt.get(n);return i||(i=this.precomputeWindow(n,r),r!==1&&Rt.set(n,o(i))),i},wNAFCached(r,n,o){let i=Pt(r);return this.wNAF(i,this.getPrecomputes(i,r,o),n)},wNAFCachedUnsafe(r,n,o,i){let u=Pt(r);return u===1?this.unsafeLadder(r,n,i):this.wNAFUnsafe(u,this.getPrecomputes(u,r,o),n,i)},setWindowSize(r,n){zn(n,t),jn.set(r,n),Rt.delete(r)}}}function _s(e,t,r,n){if(Fs(r,e),Cs(n,t),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");let o=e.ZERO,i=hs(BigInt(r.length)),u=i>12?i-3:i>4?i-2:i?2:1,f=(1<<u)-1,c=new Array(f+1).fill(o),s=Math.floor((t.BITS-1)/u)*u,a=o;for(let l=s;l>=0;l-=u){c.fill(o);for(let p=0;p<n.length;p++){let d=n[p],g=Number(d>>BigInt(l)&BigInt(f));c[g]=c[g].add(r[p])}let h=o;for(let p=c.length-1,d=o;p>0;p--)d=d.add(c[p]),h=h.add(d);if(a=a.add(h),l!==0)for(let p=0;p<u;p++)a=a.double()}return a}function As(e){return Es(e.Fp),rr(e,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...Ln(e.n,e.nBitLength),...e,p:e.Fp.ORDER})}var X=BigInt(0),J=BigInt(1),nt=BigInt(2),Is=BigInt(8),Bs={zip215:!0};function Os(e){let t=As(e);return rr(e,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...t})}function Ts(e){let t=Os(e),{Fp:r,n,prehash:o,hash:i,randomBytes:u,nByteLength:f,h:c}=t,s=nt<<BigInt(f*8)-J,a=r.create,l=Mn(t.n,t.nBitLength),h=t.uvRatio||((E,b)=>{try{return{isValid:!0,value:r.sqrt(E*r.inv(b))}}catch{return{isValid:!1,value:X}}}),p=t.adjustScalarBytes||(E=>E),d=t.domain||((E,b,y)=>{if(Ot("phflag",y),b.length||y)throw new Error("Contexts/pre-hash are not supported");return E});function g(E,b){Re("coordinate "+E,b,X,s)}function w(E){if(!(E instanceof D))throw new Error("ExtendedPoint expected")}let x=dn((E,b)=>{let{ex:y,ey:v,ez:I}=E,B=E.is0();b==null&&(b=B?Is:r.inv(I));let T=a(y*b),L=a(v*b),U=a(I*b);if(B)return{x:X,y:J};if(U!==J)throw new Error("invZ was invalid");return{x:T,y:L}}),C=dn(E=>{let{a:b,d:y}=t;if(E.is0())throw new Error("bad point: ZERO");let{ex:v,ey:I,ez:B,et:T}=E,L=a(v*v),U=a(I*I),M=a(B*B),W=a(M*M),Y=a(L*b),te=a(M*a(Y+U)),re=a(W+a(y*a(L*U)));if(te!==re)throw new Error("bad point: equation left != right (1)");let Z=a(v*I),se=a(B*T);if(Z!==se)throw new Error("bad point: equation left != right (2)");return!0});class D{constructor(b,y,v,I){this.ex=b,this.ey=y,this.ez=v,this.et=I,g("x",b),g("y",y),g("z",v),g("t",I),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(b){if(b instanceof D)throw new Error("extended point not allowed");let{x:y,y:v}=b||{};return g("x",y),g("y",v),new D(y,v,J,a(y*v))}static normalizeZ(b){let y=r.invertBatch(b.map(v=>v.ez));return b.map((v,I)=>v.toAffine(y[I])).map(D.fromAffine)}static msm(b,y){return _s(D,l,b,y)}_setWindowSize(b){N.setWindowSize(this,b)}assertValidity(){C(this)}equals(b){w(b);let{ex:y,ey:v,ez:I}=this,{ex:B,ey:T,ez:L}=b,U=a(y*L),M=a(B*I),W=a(v*L),Y=a(T*I);return U===M&&W===Y}is0(){return this.equals(D.ZERO)}negate(){return new D(a(-this.ex),this.ey,this.ez,a(-this.et))}double(){let{a:b}=t,{ex:y,ey:v,ez:I}=this,B=a(y*y),T=a(v*v),L=a(nt*a(I*I)),U=a(b*B),M=y+v,W=a(a(M*M)-B-T),Y=U+T,te=Y-L,re=U-T,Z=a(W*te),se=a(Y*re),le=a(W*re),qe=a(te*Y);return new D(Z,se,qe,le)}add(b){w(b);let{a:y,d:v}=t,{ex:I,ey:B,ez:T,et:L}=this,{ex:U,ey:M,ez:W,et:Y}=b;if(y===BigInt(-1)){let Nr=a((B-I)*(M+U)),Ur=a((B+I)*(M-U)),wt=a(Ur-Nr);if(wt===X)return this.double();let Rr=a(T*nt*Y),Pr=a(L*nt*W),Lr=Pr+Rr,Mr=Ur+Nr,zr=Pr-Rr,Yo=a(Lr*wt),Jo=a(Mr*zr),$o=a(Lr*zr),Go=a(wt*Mr);return new D(Yo,Jo,Go,$o)}let te=a(I*U),re=a(B*M),Z=a(L*v*Y),se=a(T*W),le=a((I+B)*(U+M)-te-re),qe=se-Z,Or=se+Z,Tr=a(re-y*te),Ko=a(le*qe),Wo=a(Or*Tr),qo=a(le*Tr),Vo=a(qe*Or);return new D(Ko,Wo,Vo,qo)}subtract(b){return this.add(b.negate())}wNAF(b){return N.wNAFCached(this,b,D.normalizeZ)}multiply(b){let y=b;Re("scalar",y,J,n);let{p:v,f:I}=this.wNAF(y);return D.normalizeZ([v,I])[0]}multiplyUnsafe(b,y=D.ZERO){let v=b;return Re("scalar",v,X,n),v===X?_:this.is0()||v===J?this:N.wNAFCachedUnsafe(this,v,D.normalizeZ,y)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return N.unsafeLadder(this,n).is0()}toAffine(b){return x(this,b)}clearCofactor(){let{h:b}=t;return b===J?this:this.multiplyUnsafe(b)}static fromHex(b,y=!1){let{d:v,a:I}=t,B=r.BYTES;b=oe("pointHex",b,B),Ot("zip215",y);let T=b.slice(),L=b[B-1];T[B-1]=L&-129;let U=ot(T),M=y?s:r.ORDER;Re("pointHex.y",U,X,M);let W=a(U*U),Y=a(W-J),te=a(v*W-I),{isValid:re,value:Z}=h(Y,te);if(!re)throw new Error("Point.fromHex: invalid y coordinate");let se=(Z&J)===J,le=(L&128)!==0;if(!y&&Z===X&&le)throw new Error("Point.fromHex: x=0 and x_0=1");return le!==se&&(Z=a(-Z)),D.fromAffine({x:Z,y:U})}static fromPrivateKey(b){return P(b).point}toRawBytes(){let{x:b,y}=this.toAffine(),v=Ht(y,r.BYTES);return v[v.length-1]|=b&J?128:0,v}toHex(){return tr(this.toRawBytes())}}D.BASE=new D(t.Gx,t.Gy,J,a(t.Gx*t.Gy)),D.ZERO=new D(X,J,J,X);let{BASE:F,ZERO:_}=D,N=Ss(D,f*8);function O(E){return k(E,n)}function A(E){return O(ot(E))}function P(E){let b=r.BYTES;E=oe("private key",E,b);let y=oe("hashed private key",i(E),2*b),v=p(y.slice(0,b)),I=y.slice(b,2*b),B=A(v),T=F.multiply(B),L=T.toRawBytes();return{head:v,prefix:I,scalar:B,point:T,pointBytes:L}}function ge(E){return P(E).pointBytes}function fe(E=new Uint8Array,...b){let y=hn(...b);return A(i(d(y,oe("context",E),!!o)))}function me(E,b,y={}){E=oe("message",E),o&&(E=o(E));let{prefix:v,scalar:I,pointBytes:B}=P(b),T=fe(y.context,v,E),L=F.multiply(T).toRawBytes(),U=fe(y.context,L,B,E),M=O(T+U*I);Re("signature.s",M,X,n);let W=hn(L,Ht(M,r.BYTES));return oe("result",W,r.BYTES*2)}let Be=Bs;function mt(E,b,y,v=Be){let{context:I,zip215:B}=v,T=r.BYTES;E=oe("signature",E,2*T),b=oe("message",b),y=oe("publicKey",y,T),B!==void 0&&Ot("zip215",B),o&&(b=o(b));let L=ot(E.slice(T,2*T)),U,M,W;try{U=D.fromHex(y,B),M=D.fromHex(E.slice(0,T),B),W=F.multiplyUnsafe(L)}catch{return!1}if(!B&&U.isSmallOrder())return!1;let Y=fe(I,M.toRawBytes(),U.toRawBytes(),b);return M.add(U.multiplyUnsafe(Y)).subtract(W).clearCofactor().equals(D.ZERO)}return F._setWindowSize(8),{CURVE:t,getPublicKey:ge,sign:me,verify:mt,ExtendedPoint:D,utils:{getExtendedPublicKey:P,randomPrivateKey:()=>u(r.BYTES),precompute(E=8,b=D.BASE){return b._setWindowSize(E),b.multiply(BigInt(3)),b}}}}BigInt(0),BigInt(1);var nr=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),mn=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);var Ns=BigInt(1),wn=BigInt(2);BigInt(3);var Us=BigInt(5),Rs=BigInt(8);function Ps(e){let t=BigInt(10),r=BigInt(20),n=BigInt(40),o=BigInt(80),i=nr,u=e*e%i*e%i,f=Q(u,wn,i)*u%i,c=Q(f,Ns,i)*e%i,s=Q(c,Us,i)*c%i,a=Q(s,t,i)*s%i,l=Q(a,r,i)*a%i,h=Q(l,n,i)*l%i,p=Q(h,o,i)*h%i,d=Q(p,o,i)*h%i,g=Q(d,t,i)*s%i;return{pow_p_5_8:Q(g,wn,i)*e%i,b2:u}}function Ls(e){return e[0]&=248,e[31]&=127,e[31]|=64,e}function Ms(e,t){let r=nr,n=k(t*t*t,r),o=k(n*n*t,r),i=Ps(e*o).pow_p_5_8,u=k(e*n*i,r),f=k(t*u*u,r),c=u,s=k(u*mn,r),a=f===e,l=f===k(-e,r),h=f===k(-e*mn,r);return a&&(u=c),(l||h)&&(u=s),ws(u,r)&&(u=k(-u,r)),{isValid:a||l,value:u}}var zs=Mn(nr,void 0,!0),js={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:zs,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:Rs,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:as,randomBytes:On,adjustScalarBytes:Ls,uvRatio:Ms},kn=Ts(js),ks="EdDSA",Hs="JWT",it=".",at="base64url",Hn="utf8",Kn="utf8",Ks=":",Ws="did",qs="key",yn="base58btc",Vs="z",Ys="K36";var Js=32;function or(e){return globalThis.Buffer!=null?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):e}function Wn(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?or(globalThis.Buffer.allocUnsafe(e)):new Uint8Array(e)}function qn(e,t){t||(t=e.reduce((o,i)=>o+i.length,0));let r=Wn(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return or(r)}function $s(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),u=i.charCodeAt(0);if(r[u]!==255)throw new TypeError(i+" is ambiguous");r[u]=o}var f=e.length,c=e.charAt(0),s=Math.log(f)/Math.log(256),a=Math.log(256)/Math.log(f);function l(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var g=0,w=0,x=0,C=d.length;x!==C&&d[x]===0;)x++,g++;for(var D=(C-x)*a+1>>>0,F=new Uint8Array(D);x!==C;){for(var _=d[x],N=0,O=D-1;(_!==0||N<w)&&O!==-1;O--,N++)_+=256*F[O]>>>0,F[O]=_%f>>>0,_=_/f>>>0;if(_!==0)throw new Error("Non-zero carry");w=N,x++}for(var A=D-w;A!==D&&F[A]===0;)A++;for(var P=c.repeat(g);A<D;++A)P+=e.charAt(F[A]);return P}function h(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var g=0;if(d[g]!==" "){for(var w=0,x=0;d[g]===c;)w++,g++;for(var C=(d.length-g)*s+1>>>0,D=new Uint8Array(C);d[g];){var F=r[d.charCodeAt(g)];if(F===255)return;for(var _=0,N=C-1;(F!==0||_<x)&&N!==-1;N--,_++)F+=f*D[N]>>>0,D[N]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");x=_,g++}if(d[g]!==" "){for(var O=C-x;O!==C&&D[O]===0;)O++;for(var A=new Uint8Array(w+(C-O)),P=w;O!==C;)A[P++]=D[O++];return A}}}function p(d){var g=h(d);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:l,decodeUnsafe:h,decode:p}}var Gs=$s,Zs=Gs,Vn=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")},Xs=e=>new TextEncoder().encode(e),Qs=e=>new TextDecoder().decode(e),Wt=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},qt=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return Yn(this,t)}},Vt=class{constructor(t){this.decoders=t}or(t){return Yn(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},Yn=(e,t)=>new Vt({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),Yt=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new Wt(t,r,n),this.decoder=new qt(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},ut=({name:e,prefix:t,encode:r,decode:n})=>new Yt(e,t,r,n),Pe=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=Zs(r,t);return ut({prefix:e,name:t,encode:n,decode:i=>Vn(o(i))})},ea=(e,t,r,n)=>{let o={};for(let a=0;a<t.length;++a)o[t[a]]=a;let i=e.length;for(;e[i-1]==="=";)--i;let u=new Uint8Array(i*r/8|0),f=0,c=0,s=0;for(let a=0;a<i;++a){let l=o[e[a]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,f+=r,f>=8&&(f-=8,u[s++]=255&c>>f)}if(f>=r||255&c<<8-f)throw new SyntaxError("Unexpected end of data");return u},ta=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,i="",u=0,f=0;for(let c=0;c<e.length;++c)for(f=f<<8|e[c],u+=8;u>r;)u-=r,i+=t[o&f>>u];if(u&&(i+=t[o&f<<r-u]),n)for(;i.length*r&7;)i+="=";return i},q=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>ut({prefix:t,name:e,encode(o){return ta(o,n,r)},decode(o){return ea(o,n,r,e)}}),ra=ut({prefix:"\0",name:"identity",encode:e=>Qs(e),decode:e=>Xs(e)}),na=Object.freeze({__proto__:null,identity:ra}),oa=q({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),ia=Object.freeze({__proto__:null,base2:oa}),sa=q({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),aa=Object.freeze({__proto__:null,base8:sa}),ua=Pe({prefix:"9",name:"base10",alphabet:"0123456789"}),ca=Object.freeze({__proto__:null,base10:ua}),fa=q({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),la=q({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),ha=Object.freeze({__proto__:null,base16:fa,base16upper:la}),da=q({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),pa=q({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Da=q({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),ba=q({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),ga=q({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),ma=q({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),wa=q({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),ya=q({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ea=q({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),va=Object.freeze({__proto__:null,base32:da,base32upper:pa,base32pad:Da,base32padupper:ba,base32hex:ga,base32hexupper:ma,base32hexpad:wa,base32hexpadupper:ya,base32z:Ea}),xa=Pe({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Fa=Pe({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),Ca=Object.freeze({__proto__:null,base36:xa,base36upper:Fa}),Sa=Pe({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),_a=Pe({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Aa=Object.freeze({__proto__:null,base58btc:Sa,base58flickr:_a}),Ia=q({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Ba=q({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Oa=q({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Ta=q({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),Na=Object.freeze({__proto__:null,base64:Ia,base64pad:Ba,base64url:Oa,base64urlpad:Ta}),Jn=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Ua=Jn.reduce((e,t,r)=>(e[r]=t,e),[]),Ra=Jn.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Pa(e){return e.reduce((t,r)=>(t+=Ua[r],t),"")}function La(e){let t=[];for(let r of e){let n=Ra[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Ma=ut({prefix:"\u{1F680}",name:"base256emoji",encode:Pa,decode:La}),za=Object.freeze({__proto__:null,base256emoji:Ma}),ja=$n,En=128,ka=127,Ha=~ka,Ka=Math.pow(2,31);function $n(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Ka;)t[r++]=e&255|En,e/=128;for(;e&Ha;)t[r++]=e&255|En,e>>>=7;return t[r]=e|0,$n.bytes=r-n+1,t}var Wa=Jt,qa=128,vn=127;function Jt(e,n){var r=0,n=n||0,o=0,i=n,u,f=e.length;do{if(i>=f)throw Jt.bytes=0,new RangeError("Could not decode varint");u=e[i++],r+=o<28?(u&vn)<<o:(u&vn)*Math.pow(2,o),o+=7}while(u>=qa);return Jt.bytes=i-n,r}var Va=Math.pow(2,7),Ya=Math.pow(2,14),Ja=Math.pow(2,21),$a=Math.pow(2,28),Ga=Math.pow(2,35),Za=Math.pow(2,42),Xa=Math.pow(2,49),Qa=Math.pow(2,56),eu=Math.pow(2,63),tu=function(e){return e<Va?1:e<Ya?2:e<Ja?3:e<$a?4:e<Ga?5:e<Za?6:e<Xa?7:e<Qa?8:e<eu?9:10},ru={encode:ja,decode:Wa,encodingLength:tu},Gn=ru,xn=(e,t,r=0)=>(Gn.encode(e,t,r),t),Fn=e=>Gn.encodingLength(e),$t=(e,t)=>{let r=t.byteLength,n=Fn(e),o=n+Fn(r),i=new Uint8Array(o+r);return xn(e,i,0),xn(r,i,n),i.set(t,o),new Gt(e,r,t,i)},Gt=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}},Zn=({name:e,code:t,encode:r})=>new Zt(e,t,r),Zt=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?$t(this.code,r):r.then(n=>$t(this.code,n))}else throw Error("Unknown type, must be binary type")}},Xn=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),nu=Zn({name:"sha2-256",code:18,encode:Xn("SHA-256")}),ou=Zn({name:"sha2-512",code:19,encode:Xn("SHA-512")}),iu=Object.freeze({__proto__:null,sha256:nu,sha512:ou}),Qn=0,su="identity",eo=Vn,au=e=>$t(Qn,eo(e)),uu={code:Qn,name:su,encode:eo,digest:au},cu=Object.freeze({__proto__:null,identity:uu});new TextEncoder,new TextDecoder;var Cn={...na,...ia,...aa,...ca,...ha,...va,...Ca,...Aa,...Na,...za};({...iu,...cu});function to(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var Sn=to("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Lt=to("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Wn(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),ro={utf8:Sn,"utf-8":Sn,hex:Cn.base16,latin1:Lt,ascii:Lt,binary:Lt,...Cn};function ct(e,t="utf8"){let r=ro[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}function Fe(e,t="utf8"){let r=ro[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?or(globalThis.Buffer.from(e,"utf-8")):r.decoder.decode(`${r.prefix}${e}`)}function _n(e){return he(ct(Fe(e,at),Hn))}function st(e){return ct(Fe(de(e),Hn),at)}function fu(e){let t=Fe(Ys,yn),r=Vs+ct(qn([t,e]),yn);return[Ws,qs,r].join(Ks)}function lu(e){return ct(e,at)}function hu(e){return Fe(e,at)}function du(e){return Fe([st(e.header),st(e.payload)].join(it),Kn)}function pu(e){return[st(e.header),st(e.payload),lu(e.signature)].join(it)}function hf(e){let t=e.split(it),r=_n(t[0]),n=_n(t[1]),o=hu(t[2]),i=Fe(t.slice(0,2).join(it),Kn);return{header:r,payload:n,signature:o,data:i}}function df(e=On(Js)){let t=kn.getPublicKey(e);return{secretKey:qn([e,t]),publicKey:t}}async function pf(e,t,r,n,o=(0,An.fromMiliseconds)(Date.now())){let i={alg:ks,typ:Hs},u=fu(n.publicKey),f=o+r,c={iss:u,sub:e,aud:t,iat:o,exp:f},s=du({header:i,payload:c}),a=kn.sign(s,n.secretKey.slice(0,32));return pu({header:i,payload:c,signature:a})}function Le(e=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?globalThis.Buffer.allocUnsafe(e):new Uint8Array(e)}function Du(e,t){t||(t=e.reduce((o,i)=>o+i.length,0));let r=Le(t),n=0;for(let o of e)r.set(o,n),n+=o.length;return r}var cr={};G(cr,{identity:()=>Eu});function bu(e,t){if(e.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var o=0;o<e.length;o++){var i=e.charAt(o),u=i.charCodeAt(0);if(r[u]!==255)throw new TypeError(i+" is ambiguous");r[u]=o}var f=e.length,c=e.charAt(0),s=Math.log(f)/Math.log(256),a=Math.log(256)/Math.log(f);function l(d){if(d instanceof Uint8Array||(ArrayBuffer.isView(d)?d=new Uint8Array(d.buffer,d.byteOffset,d.byteLength):Array.isArray(d)&&(d=Uint8Array.from(d))),!(d instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(d.length===0)return"";for(var g=0,w=0,x=0,C=d.length;x!==C&&d[x]===0;)x++,g++;for(var D=(C-x)*a+1>>>0,F=new Uint8Array(D);x!==C;){for(var _=d[x],N=0,O=D-1;(_!==0||N<w)&&O!==-1;O--,N++)_+=256*F[O]>>>0,F[O]=_%f>>>0,_=_/f>>>0;if(_!==0)throw new Error("Non-zero carry");w=N,x++}for(var A=D-w;A!==D&&F[A]===0;)A++;for(var P=c.repeat(g);A<D;++A)P+=e.charAt(F[A]);return P}function h(d){if(typeof d!="string")throw new TypeError("Expected String");if(d.length===0)return new Uint8Array;var g=0;if(d[g]!==" "){for(var w=0,x=0;d[g]===c;)w++,g++;for(var C=(d.length-g)*s+1>>>0,D=new Uint8Array(C);d[g];){var F=r[d.charCodeAt(g)];if(F===255)return;for(var _=0,N=C-1;(F!==0||_<x)&&N!==-1;N--,_++)F+=f*D[N]>>>0,D[N]=F%256>>>0,F=F/256>>>0;if(F!==0)throw new Error("Non-zero carry");x=_,g++}if(d[g]!==" "){for(var O=C-x;O!==C&&D[O]===0;)O++;for(var A=new Uint8Array(w+(C-O)),P=w;O!==C;)A[P++]=D[O++];return A}}}function p(d){var g=h(d);if(g)return g;throw new Error(`Non-${t} character`)}return{encode:l,decodeUnsafe:h,decode:p}}var gu=bu,mu=gu,no=mu;var yf=new Uint8Array(0);var oo=(e,t)=>{if(e===t)return!0;if(e.byteLength!==t.byteLength)return!1;for(let r=0;r<e.byteLength;r++)if(e[r]!==t[r])return!1;return!0},ie=e=>{if(e instanceof Uint8Array&&e.constructor.name==="Uint8Array")return e;if(e instanceof ArrayBuffer)return new Uint8Array(e);if(ArrayBuffer.isView(e))return new Uint8Array(e.buffer,e.byteOffset,e.byteLength);throw new Error("Unknown type, must be binary type")};var io=e=>new TextEncoder().encode(e),so=e=>new TextDecoder().decode(e);var ir=class{constructor(t,r,n){this.name=t,this.prefix=r,this.baseEncode=n}encode(t){if(t instanceof Uint8Array)return`${this.prefix}${this.baseEncode(t)}`;throw Error("Unknown type, must be binary type")}},sr=class{constructor(t,r,n){if(this.name=t,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(t){if(typeof t=="string"){if(t.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(t)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(t.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(t){return uo(this,t)}},ar=class{constructor(t){this.decoders=t}or(t){return uo(this,t)}decode(t){let r=t[0],n=this.decoders[r];if(n)return n.decode(t);throw RangeError(`Unable to decode multibase string ${JSON.stringify(t)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}},uo=(e,t)=>new ar({...e.decoders||{[e.prefix]:e},...t.decoders||{[t.prefix]:t}}),ur=class{constructor(t,r,n,o){this.name=t,this.prefix=r,this.baseEncode=n,this.baseDecode=o,this.encoder=new ir(t,r,n),this.decoder=new sr(t,r,o)}encode(t){return this.encoder.encode(t)}decode(t){return this.decoder.decode(t)}},Ce=({name:e,prefix:t,encode:r,decode:n})=>new ur(e,t,r,n),ce=({prefix:e,name:t,alphabet:r})=>{let{encode:n,decode:o}=no(r,t);return Ce({prefix:e,name:t,encode:n,decode:i=>ie(o(i))})},wu=(e,t,r,n)=>{let o={};for(let a=0;a<t.length;++a)o[t[a]]=a;let i=e.length;for(;e[i-1]==="=";)--i;let u=new Uint8Array(i*r/8|0),f=0,c=0,s=0;for(let a=0;a<i;++a){let l=o[e[a]];if(l===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|l,f+=r,f>=8&&(f-=8,u[s++]=255&c>>f)}if(f>=r||255&c<<8-f)throw new SyntaxError("Unexpected end of data");return u},yu=(e,t,r)=>{let n=t[t.length-1]==="=",o=(1<<r)-1,i="",u=0,f=0;for(let c=0;c<e.length;++c)for(f=f<<8|e[c],u+=8;u>r;)u-=r,i+=t[o&f>>u];if(u&&(i+=t[o&f<<r-u]),n)for(;i.length*r&7;)i+="=";return i},z=({name:e,prefix:t,bitsPerChar:r,alphabet:n})=>Ce({prefix:t,name:e,encode(o){return yu(o,n,r)},decode(o){return wu(o,n,r,e)}});var Eu=Ce({prefix:"\0",name:"identity",encode:e=>so(e),decode:e=>io(e)});var fr={};G(fr,{base2:()=>vu});var vu=z({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var lr={};G(lr,{base8:()=>xu});var xu=z({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var hr={};G(hr,{base10:()=>Fu});var Fu=ce({prefix:"9",name:"base10",alphabet:"0123456789"});var dr={};G(dr,{base16:()=>Cu,base16upper:()=>Su});var Cu=z({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Su=z({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var pr={};G(pr,{base32:()=>Se,base32hex:()=>Bu,base32hexpad:()=>Tu,base32hexpadupper:()=>Nu,base32hexupper:()=>Ou,base32pad:()=>Au,base32padupper:()=>Iu,base32upper:()=>_u,base32z:()=>Uu});var Se=z({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),_u=z({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Au=z({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Iu=z({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Bu=z({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Ou=z({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tu=z({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Nu=z({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Uu=z({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Dr={};G(Dr,{base36:()=>Ru,base36upper:()=>Pu});var Ru=ce({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Pu=ce({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var br={};G(br,{base58btc:()=>ee,base58flickr:()=>Lu});var ee=ce({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Lu=ce({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var gr={};G(gr,{base64:()=>Mu,base64pad:()=>zu,base64url:()=>ju,base64urlpad:()=>ku});var Mu=z({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),zu=z({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),ju=z({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),ku=z({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var mr={};G(mr,{base256emoji:()=>Vu});var co=Array.from("\u{1F680}\u{1FA90}\u2604\u{1F6F0}\u{1F30C}\u{1F311}\u{1F312}\u{1F313}\u{1F314}\u{1F315}\u{1F316}\u{1F317}\u{1F318}\u{1F30D}\u{1F30F}\u{1F30E}\u{1F409}\u2600\u{1F4BB}\u{1F5A5}\u{1F4BE}\u{1F4BF}\u{1F602}\u2764\u{1F60D}\u{1F923}\u{1F60A}\u{1F64F}\u{1F495}\u{1F62D}\u{1F618}\u{1F44D}\u{1F605}\u{1F44F}\u{1F601}\u{1F525}\u{1F970}\u{1F494}\u{1F496}\u{1F499}\u{1F622}\u{1F914}\u{1F606}\u{1F644}\u{1F4AA}\u{1F609}\u263A\u{1F44C}\u{1F917}\u{1F49C}\u{1F614}\u{1F60E}\u{1F607}\u{1F339}\u{1F926}\u{1F389}\u{1F49E}\u270C\u2728\u{1F937}\u{1F631}\u{1F60C}\u{1F338}\u{1F64C}\u{1F60B}\u{1F497}\u{1F49A}\u{1F60F}\u{1F49B}\u{1F642}\u{1F493}\u{1F929}\u{1F604}\u{1F600}\u{1F5A4}\u{1F603}\u{1F4AF}\u{1F648}\u{1F447}\u{1F3B6}\u{1F612}\u{1F92D}\u2763\u{1F61C}\u{1F48B}\u{1F440}\u{1F62A}\u{1F611}\u{1F4A5}\u{1F64B}\u{1F61E}\u{1F629}\u{1F621}\u{1F92A}\u{1F44A}\u{1F973}\u{1F625}\u{1F924}\u{1F449}\u{1F483}\u{1F633}\u270B\u{1F61A}\u{1F61D}\u{1F634}\u{1F31F}\u{1F62C}\u{1F643}\u{1F340}\u{1F337}\u{1F63B}\u{1F613}\u2B50\u2705\u{1F97A}\u{1F308}\u{1F608}\u{1F918}\u{1F4A6}\u2714\u{1F623}\u{1F3C3}\u{1F490}\u2639\u{1F38A}\u{1F498}\u{1F620}\u261D\u{1F615}\u{1F33A}\u{1F382}\u{1F33B}\u{1F610}\u{1F595}\u{1F49D}\u{1F64A}\u{1F639}\u{1F5E3}\u{1F4AB}\u{1F480}\u{1F451}\u{1F3B5}\u{1F91E}\u{1F61B}\u{1F534}\u{1F624}\u{1F33C}\u{1F62B}\u26BD\u{1F919}\u2615\u{1F3C6}\u{1F92B}\u{1F448}\u{1F62E}\u{1F646}\u{1F37B}\u{1F343}\u{1F436}\u{1F481}\u{1F632}\u{1F33F}\u{1F9E1}\u{1F381}\u26A1\u{1F31E}\u{1F388}\u274C\u270A\u{1F44B}\u{1F630}\u{1F928}\u{1F636}\u{1F91D}\u{1F6B6}\u{1F4B0}\u{1F353}\u{1F4A2}\u{1F91F}\u{1F641}\u{1F6A8}\u{1F4A8}\u{1F92C}\u2708\u{1F380}\u{1F37A}\u{1F913}\u{1F619}\u{1F49F}\u{1F331}\u{1F616}\u{1F476}\u{1F974}\u25B6\u27A1\u2753\u{1F48E}\u{1F4B8}\u2B07\u{1F628}\u{1F31A}\u{1F98B}\u{1F637}\u{1F57A}\u26A0\u{1F645}\u{1F61F}\u{1F635}\u{1F44E}\u{1F932}\u{1F920}\u{1F927}\u{1F4CC}\u{1F535}\u{1F485}\u{1F9D0}\u{1F43E}\u{1F352}\u{1F617}\u{1F911}\u{1F30A}\u{1F92F}\u{1F437}\u260E\u{1F4A7}\u{1F62F}\u{1F486}\u{1F446}\u{1F3A4}\u{1F647}\u{1F351}\u2744\u{1F334}\u{1F4A3}\u{1F438}\u{1F48C}\u{1F4CD}\u{1F940}\u{1F922}\u{1F445}\u{1F4A1}\u{1F4A9}\u{1F450}\u{1F4F8}\u{1F47B}\u{1F910}\u{1F92E}\u{1F3BC}\u{1F975}\u{1F6A9}\u{1F34E}\u{1F34A}\u{1F47C}\u{1F48D}\u{1F4E3}\u{1F942}"),Hu=co.reduce((e,t,r)=>(e[r]=t,e),[]),Ku=co.reduce((e,t,r)=>(e[t.codePointAt(0)]=r,e),[]);function Wu(e){return e.reduce((t,r)=>(t+=Hu[r],t),"")}function qu(e){let t=[];for(let r of e){let n=Ku[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);t.push(n)}return new Uint8Array(t)}var Vu=Ce({prefix:"\u{1F680}",name:"base256emoji",encode:Wu,decode:qu});var vr={};G(vr,{sha256:()=>lc,sha512:()=>hc});var Yu=ho,fo=128,Ju=127,$u=~Ju,Gu=Math.pow(2,31);function ho(e,t,r){t=t||[],r=r||0;for(var n=r;e>=Gu;)t[r++]=e&255|fo,e/=128;for(;e&$u;)t[r++]=e&255|fo,e>>>=7;return t[r]=e|0,ho.bytes=r-n+1,t}var Zu=wr,Xu=128,lo=127;function wr(e,n){var r=0,n=n||0,o=0,i=n,u,f=e.length;do{if(i>=f)throw wr.bytes=0,new RangeError("Could not decode varint");u=e[i++],r+=o<28?(u&lo)<<o:(u&lo)*Math.pow(2,o),o+=7}while(u>=Xu);return wr.bytes=i-n,r}var Qu=Math.pow(2,7),ec=Math.pow(2,14),tc=Math.pow(2,21),rc=Math.pow(2,28),nc=Math.pow(2,35),oc=Math.pow(2,42),ic=Math.pow(2,49),sc=Math.pow(2,56),ac=Math.pow(2,63),uc=function(e){return e<Qu?1:e<ec?2:e<tc?3:e<rc?4:e<nc?5:e<oc?6:e<ic?7:e<sc?8:e<ac?9:10},cc={encode:Yu,decode:Zu,encodingLength:uc},fc=cc,Me=fc;var ze=(e,t=0)=>[Me.decode(e,t),Me.decode.bytes],_e=(e,t,r=0)=>(Me.encode(e,t,r),t),Ae=e=>Me.encodingLength(e);var be=(e,t)=>{let r=t.byteLength,n=Ae(e),o=n+Ae(r),i=new Uint8Array(o+r);return _e(e,i,0),_e(r,i,n),i.set(t,o),new Ie(e,r,t,i)},po=e=>{let t=ie(e),[r,n]=ze(t),[o,i]=ze(t.subarray(n)),u=t.subarray(n+i);if(u.byteLength!==o)throw new Error("Incorrect length");return new Ie(r,o,u,t)},Do=(e,t)=>e===t?!0:e.code===t.code&&e.size===t.size&&oo(e.bytes,t.bytes),Ie=class{constructor(t,r,n,o){this.code=t,this.size=r,this.digest=n,this.bytes=o}};var Er=({name:e,code:t,encode:r})=>new yr(e,t,r),yr=class{constructor(t,r,n){this.name=t,this.code=r,this.encode=n}digest(t){if(t instanceof Uint8Array){let r=this.encode(t);return r instanceof Uint8Array?be(this.code,r):r.then(n=>be(this.code,n))}else throw Error("Unknown type, must be binary type")}};var go=e=>async t=>new Uint8Array(await crypto.subtle.digest(e,t)),lc=Er({name:"sha2-256",code:18,encode:go("SHA-256")}),hc=Er({name:"sha2-512",code:19,encode:go("SHA-512")});var xr={};G(xr,{identity:()=>Dc});var mo=0,dc="identity",wo=ie,pc=e=>be(mo,wo(e)),Dc={code:mo,name:dc,encode:wo,digest:pc};var kf=new TextEncoder,Hf=new TextDecoder;var dt=class e{constructor(t,r,n,o){this.code=r,this.version=t,this.multihash=n,this.bytes=o,this.byteOffset=o.byteOffset,this.byteLength=o.byteLength,this.asCID=this,this._baseCache=new Map,Object.defineProperties(this,{byteOffset:ht,byteLength:ht,code:lt,version:lt,multihash:lt,bytes:lt,_baseCache:ht,asCID:ht})}toV0(){switch(this.version){case 0:return this;default:{let{code:t,multihash:r}=this;if(t!==ke)throw new Error("Cannot convert a non dag-pb CID to CIDv0");if(r.code!==Ec)throw new Error("Cannot convert non sha2-256 multihash CID to CIDv0");return e.createV0(r)}}}toV1(){switch(this.version){case 0:{let{code:t,digest:r}=this.multihash,n=be(t,r);return e.createV1(this.code,n)}case 1:return this;default:throw Error(`Can not convert CID version ${this.version} to version 0. This is a bug please report`)}}equals(t){return t&&this.code===t.code&&this.version===t.version&&Do(this.multihash,t.multihash)}toString(t){let{bytes:r,version:n,_baseCache:o}=this;switch(n){case 0:return wc(r,o,t||ee.encoder);default:return yc(r,o,t||Se.encoder)}}toJSON(){return{code:this.code,version:this.version,hash:this.multihash.bytes}}get[Symbol.toStringTag](){return"CID"}[Symbol.for("nodejs.util.inspect.custom")](){return"CID("+this.toString()+")"}static isCID(t){return xc(/^0\.0/,Fc),!!(t&&(t[Eo]||t.asCID===t))}get toBaseEncodedString(){throw new Error("Deprecated, use .toString()")}get codec(){throw new Error('"codec" property is deprecated, use integer "code" property instead')}get buffer(){throw new Error("Deprecated .buffer property, use .bytes to get Uint8Array instead")}get multibaseName(){throw new Error('"multibaseName" property is deprecated')}get prefix(){throw new Error('"prefix" property is deprecated')}static asCID(t){if(t instanceof e)return t;if(t!=null&&t.asCID===t){let{version:r,code:n,multihash:o,bytes:i}=t;return new e(r,n,o,i||yo(r,n,o.bytes))}else if(t!=null&&t[Eo]===!0){let{version:r,multihash:n,code:o}=t,i=po(n);return e.create(r,o,i)}else return null}static create(t,r,n){if(typeof r!="number")throw new Error("String codecs are no longer supported");switch(t){case 0:{if(r!==ke)throw new Error(`Version 0 CID must use dag-pb (code: ${ke}) block encoding`);return new e(t,r,n,n.bytes)}case 1:{let o=yo(t,r,n.bytes);return new e(t,r,n,o)}default:throw new Error("Invalid version")}}static createV0(t){return e.create(0,ke,t)}static createV1(t,r){return e.create(1,t,r)}static decode(t){let[r,n]=e.decodeFirst(t);if(n.length)throw new Error("Incorrect length");return r}static decodeFirst(t){let r=e.inspectBytes(t),n=r.size-r.multihashSize,o=ie(t.subarray(n,n+r.multihashSize));if(o.byteLength!==r.multihashSize)throw new Error("Incorrect length");let i=o.subarray(r.multihashSize-r.digestSize),u=new Ie(r.multihashCode,r.digestSize,i,o);return[r.version===0?e.createV0(u):e.createV1(r.codec,u),t.subarray(r.size)]}static inspectBytes(t){let r=0,n=()=>{let[l,h]=ze(t.subarray(r));return r+=h,l},o=n(),i=ke;if(o===18?(o=0,r=0):o===1&&(i=n()),o!==0&&o!==1)throw new RangeError(`Invalid CID version ${o}`);let u=r,f=n(),c=n(),s=r+c,a=s-u;return{version:o,codec:i,multihashCode:f,digestSize:c,multihashSize:a,size:s}}static parse(t,r){let[n,o]=mc(t,r),i=e.decode(o);return i._baseCache.set(n,t),i}},mc=(e,t)=>{switch(e[0]){case"Q":{let r=t||ee;return[ee.prefix,r.decode(`${ee.prefix}${e}`)]}case ee.prefix:{let r=t||ee;return[ee.prefix,r.decode(e)]}case Se.prefix:{let r=t||Se;return[Se.prefix,r.decode(e)]}default:{if(t==null)throw Error("To parse non base32 or base58btc encoded CID multibase decoder must be provided");return[e[0],t.decode(e)]}}},wc=(e,t,r)=>{let{prefix:n}=r;if(n!==ee.prefix)throw Error(`Cannot string encode V0 in ${r.name} encoding`);let o=t.get(n);if(o==null){let i=r.encode(e).slice(1);return t.set(n,i),i}else return o},yc=(e,t,r)=>{let{prefix:n}=r,o=t.get(n);if(o==null){let i=r.encode(e);return t.set(n,i),i}else return o},ke=112,Ec=18,yo=(e,t,r)=>{let n=Ae(e),o=n+Ae(t),i=new Uint8Array(o+r.byteLength);return _e(e,i,0),_e(t,i,n),i.set(r,o),i},Eo=Symbol.for("@ipld/js-cid/CID"),lt={writable:!1,configurable:!1,enumerable:!0},ht={writable:!1,enumerable:!1,configurable:!1},vc="0.0.0-dev",xc=(e,t)=>{if(e.test(vc))console.warn(t);else throw new Error(t)},Fc=`CID.isCID(v) is deprecated and will be removed in the next major release.
Following code pattern:

if (CID.isCID(value)) {
  doSomethingWithCID(value)
}

Is replaced with:

const cid = CID.asCID(value)
if (cid) {
  // Make sure to use cid instead of value
  doSomethingWithCID(cid)
}
`;var Fr={...cr,...fr,...lr,...hr,...dr,...pr,...Dr,...br,...gr,...mr},Gf={...vr,...xr};function xo(e,t,r,n){return{name:e,prefix:t,encoder:{name:e,prefix:t,encode:r},decoder:{decode:n}}}var vo=xo("utf8","u",e=>"u"+new TextDecoder("utf8").decode(e),e=>new TextEncoder().encode(e.substring(1))),Cr=xo("ascii","a",e=>{let t="a";for(let r=0;r<e.length;r++)t+=String.fromCharCode(e[r]);return t},e=>{e=e.substring(1);let t=Le(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}),Cc={utf8:vo,"utf-8":vo,hex:Fr.base16,latin1:Cr,ascii:Cr,binary:Cr,...Fr},pt=Cc;function Sc(e,t="utf8"){let r=pt[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e,"utf8"):r.decoder.decode(`${r.prefix}${e}`)}function _c(e,t="utf8"){let r=pt[t];if(!r)throw new Error(`Unsupported encoding "${t}"`);return(t==="utf8"||t==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(e.buffer,e.byteOffset,e.byteLength).toString("utf8"):r.encoder.encode(e).substring(1)}var wl={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var Dt=class{};var So=Ve(qr()),bt=Ve(It());var Sr=class extends Dt{constructor(t){super()}},Fo=bt.FIVE_SECONDS,Ac={pulse:"heartbeat_pulse"},Co=class e extends Sr{constructor(t){super(t),this.events=new So.EventEmitter,this.interval=Fo,this.interval=t?.interval||Fo}static async init(t){let r=new e(t);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),(0,bt.toMiliseconds)(this.interval))}pulse(){this.events.emit(Ac.pulse)}};var Ic=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Bc=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,Oc=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Tc(e,t){if(e==="__proto__"||e==="constructor"&&t&&typeof t=="object"&&"prototype"in t){Nc(e);return}return t}function Nc(e){console.warn(`[destr] Dropping "${e}" key to prevent prototype pollution.`)}function He(e,t={}){if(typeof e!="string")return e;if(e[0]==='"'&&e[e.length-1]==='"'&&e.indexOf("\\")===-1)return e.slice(1,-1);let r=e.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!Oc.test(e)){if(t.strict)throw new SyntaxError("[destr] Invalid JSON");return e}try{if(Ic.test(e)||Bc.test(e)){if(t.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(e,Tc)}return JSON.parse(e)}catch(n){if(t.strict)throw n;return e}}function Uc(e){return!e||typeof e.then!="function"?Promise.resolve(e):e}function H(e,...t){try{return Uc(e(...t))}catch(r){return Promise.reject(r)}}function Rc(e){let t=typeof e;return e===null||t!=="object"&&t!=="function"}function Pc(e){let t=Object.getPrototypeOf(e);return!t||t.isPrototypeOf(Object)}function Ke(e){if(Rc(e))return String(e);if(Pc(e)||Array.isArray(e))return JSON.stringify(e);if(typeof e.toJSON=="function")return Ke(e.toJSON());throw new Error("[unstorage] Cannot stringify value!")}var _r="base64:";function _o(e){return typeof e=="string"?e:_r+Mc(e)}function Ao(e){return typeof e!="string"||!e.startsWith(_r)?e:Lc(e.slice(_r.length))}function Lc(e){return globalThis.Buffer?Buffer.from(e,"base64"):Uint8Array.from(globalThis.atob(e),t=>t.codePointAt(0))}function Mc(e){return globalThis.Buffer?Buffer.from(e).toString("base64"):globalThis.btoa(String.fromCodePoint(...e))}function V(e){return e&&e.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function Io(...e){return V(e.join(":"))}function We(e){return e=V(e),e?e+":":""}function Bo(e,t){if(t===void 0)return!0;let r=0,n=e.indexOf(":");for(;n>-1;)r++,n=e.indexOf(":",n+1);return r<=t}function Oo(e,t){return t?e.startsWith(t)&&e[e.length-1]!=="$":e[e.length-1]!=="$"}var zc="memory",jc=()=>{let e=new Map;return{name:zc,getInstance:()=>e,hasItem(t){return e.has(t)},getItem(t){return e.get(t)??null},getItemRaw(t){return e.get(t)??null},setItem(t,r){e.set(t,r)},setItemRaw(t,r){e.set(t,r)},removeItem(t){e.delete(t)},getKeys(){return[...e.keys()]},clear(){e.clear()},dispose(){e.clear()}}};function Uo(e={}){let t={mounts:{"":e.driver||jc()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=s=>{for(let a of t.mountpoints)if(s.startsWith(a))return{base:a,relativeKey:s.slice(a.length),driver:t.mounts[a]};return{base:"",relativeKey:s,driver:t.mounts[""]}},n=(s,a)=>t.mountpoints.filter(l=>l.startsWith(s)||a&&s.startsWith(l)).map(l=>({relativeBase:s.length>l.length?s.slice(l.length):void 0,mountpoint:l,driver:t.mounts[l]})),o=(s,a)=>{if(t.watching){a=V(a);for(let l of t.watchListeners)l(s,a)}},i=async()=>{if(!t.watching){t.watching=!0;for(let s in t.mounts)t.unwatch[s]=await To(t.mounts[s],o,s)}},u=async()=>{if(t.watching){for(let s in t.unwatch)await t.unwatch[s]();t.unwatch={},t.watching=!1}},f=(s,a,l)=>{let h=new Map,p=d=>{let g=h.get(d.base);return g||(g={driver:d.driver,base:d.base,items:[]},h.set(d.base,g)),g};for(let d of s){let g=typeof d=="string",w=V(g?d:d.key),x=g?void 0:d.value,C=g||!d.options?a:{...a,...d.options},D=r(w);p(D).items.push({key:w,value:x,relativeKey:D.relativeKey,options:C})}return Promise.all([...h.values()].map(d=>l(d))).then(d=>d.flat())},c={hasItem(s,a={}){s=V(s);let{relativeKey:l,driver:h}=r(s);return H(h.hasItem,l,a)},getItem(s,a={}){s=V(s);let{relativeKey:l,driver:h}=r(s);return H(h.getItem,l,a).then(p=>He(p))},getItems(s,a={}){return f(s,a,l=>l.driver.getItems?H(l.driver.getItems,l.items.map(h=>({key:h.relativeKey,options:h.options})),a).then(h=>h.map(p=>({key:Io(l.base,p.key),value:He(p.value)}))):Promise.all(l.items.map(h=>H(l.driver.getItem,h.relativeKey,h.options).then(p=>({key:h.key,value:He(p)})))))},getItemRaw(s,a={}){s=V(s);let{relativeKey:l,driver:h}=r(s);return h.getItemRaw?H(h.getItemRaw,l,a):H(h.getItem,l,a).then(p=>Ao(p))},async setItem(s,a,l={}){if(a===void 0)return c.removeItem(s);s=V(s);let{relativeKey:h,driver:p}=r(s);p.setItem&&(await H(p.setItem,h,Ke(a),l),p.watch||o("update",s))},async setItems(s,a){await f(s,a,async l=>{if(l.driver.setItems)return H(l.driver.setItems,l.items.map(h=>({key:h.relativeKey,value:Ke(h.value),options:h.options})),a);l.driver.setItem&&await Promise.all(l.items.map(h=>H(l.driver.setItem,h.relativeKey,Ke(h.value),h.options)))})},async setItemRaw(s,a,l={}){if(a===void 0)return c.removeItem(s,l);s=V(s);let{relativeKey:h,driver:p}=r(s);if(p.setItemRaw)await H(p.setItemRaw,h,a,l);else if(p.setItem)await H(p.setItem,h,_o(a),l);else return;p.watch||o("update",s)},async removeItem(s,a={}){typeof a=="boolean"&&(a={removeMeta:a}),s=V(s);let{relativeKey:l,driver:h}=r(s);h.removeItem&&(await H(h.removeItem,l,a),(a.removeMeta||a.removeMata)&&await H(h.removeItem,l+"$",a),h.watch||o("remove",s))},async getMeta(s,a={}){typeof a=="boolean"&&(a={nativeOnly:a}),s=V(s);let{relativeKey:l,driver:h}=r(s),p=Object.create(null);if(h.getMeta&&Object.assign(p,await H(h.getMeta,l,a)),!a.nativeOnly){let d=await H(h.getItem,l+"$",a).then(g=>He(g));d&&typeof d=="object"&&(typeof d.atime=="string"&&(d.atime=new Date(d.atime)),typeof d.mtime=="string"&&(d.mtime=new Date(d.mtime)),Object.assign(p,d))}return p},setMeta(s,a,l={}){return this.setItem(s+"$",a,l)},removeMeta(s,a={}){return this.removeItem(s+"$",a)},async getKeys(s,a={}){s=We(s);let l=n(s,!0),h=[],p=[],d=!0;for(let w of l){w.driver.flags?.maxDepth||(d=!1);let x=await H(w.driver.getKeys,w.relativeBase,a);for(let C of x){let D=w.mountpoint+V(C);h.some(F=>D.startsWith(F))||p.push(D)}h=[w.mountpoint,...h.filter(C=>!C.startsWith(w.mountpoint))]}let g=a.maxDepth!==void 0&&!d;return p.filter(w=>(!g||Bo(w,a.maxDepth))&&Oo(w,s))},async clear(s,a={}){s=We(s),await Promise.all(n(s,!1).map(async l=>{if(l.driver.clear)return H(l.driver.clear,l.relativeBase,a);if(l.driver.removeItem){let h=await l.driver.getKeys(l.relativeBase||"",a);return Promise.all(h.map(p=>l.driver.removeItem(p,a)))}}))},async dispose(){await Promise.all(Object.values(t.mounts).map(s=>No(s)))},async watch(s){return await i(),t.watchListeners.push(s),async()=>{t.watchListeners=t.watchListeners.filter(a=>a!==s),t.watchListeners.length===0&&await u()}},async unwatch(){t.watchListeners=[],await u()},mount(s,a){if(s=We(s),s&&t.mounts[s])throw new Error(`already mounted at ${s}`);return s&&(t.mountpoints.push(s),t.mountpoints.sort((l,h)=>h.length-l.length)),t.mounts[s]=a,t.watching&&Promise.resolve(To(a,o,s)).then(l=>{t.unwatch[s]=l}).catch(console.error),c},async unmount(s,a=!0){s=We(s),!(!s||!t.mounts[s])&&(t.watching&&s in t.unwatch&&(t.unwatch[s]?.(),delete t.unwatch[s]),a&&await No(t.mounts[s]),t.mountpoints=t.mountpoints.filter(l=>l!==s),delete t.mounts[s])},getMount(s=""){s=V(s)+":";let a=r(s);return{driver:a.driver,base:a.base}},getMounts(s="",a={}){return s=V(s),n(s,a.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(s,a={})=>c.getKeys(s,a),get:(s,a={})=>c.getItem(s,a),set:(s,a,l={})=>c.setItem(s,a,l),has:(s,a={})=>c.hasItem(s,a),del:(s,a={})=>c.removeItem(s,a),remove:(s,a={})=>c.removeItem(s,a)};return c}function To(e,t,r){return e.watch?e.watch((n,o)=>t(n,r+o)):()=>{}}async function No(e){typeof e.dispose=="function"&&await H(e.dispose)}var kc="idb-keyval",Hc=(e={})=>{let t=e.base&&e.base.length>0?`${e.base}:`:"",r=o=>t+o,n;return e.dbName&&e.storeName&&(n=jr(e.dbName,e.storeName)),{name:kc,options:e,async hasItem(o){return!(typeof await yt(r(o),n)>"u")},async getItem(o){return await yt(r(o),n)??null},setItem(o,i){return kr(r(o),i,n)},removeItem(o){return Hr(r(o),n)},getKeys(){return Wr(n)},clear(){return Kr(n)}}},Kc="WALLET_CONNECT_V2_INDEXED_DB",Wc="keyvaluestorage",Ir=class{constructor(){this.indexedDb=Uo({driver:Hc({dbName:Kc,storeName:Wc})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(t=>[t.key,t.value])}async getItem(t){let r=await this.indexedDb.getItem(t);if(r!==null)return r}async setItem(t,r){await this.indexedDb.setItem(t,de(r))}async removeItem(t){await this.indexedDb.removeItem(t)}},Ar=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},gt={exports:{}};(function(){let e;function t(){}e=t,e.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},e.prototype.setItem=function(r,n){this[r]=String(n)},e.prototype.removeItem=function(r){delete this[r]},e.prototype.clear=function(){let r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},e.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},e.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof Ar<"u"&&Ar.localStorage?gt.exports=Ar.localStorage:typeof window<"u"&&window.localStorage?gt.exports=window.localStorage:gt.exports=new t})();function qc(e){var t;return[e[0],he((t=e[1])!=null?t:"")]}var Br=class{constructor(){this.localStorage=gt.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(qc)}async getItem(t){let r=this.localStorage.getItem(t);if(r!==null)return he(r)}async setItem(t,r){this.localStorage.setItem(t,de(r))}async removeItem(t){this.localStorage.removeItem(t)}},Vc="wc_storage_version",Ro=1,Yc=async(e,t,r)=>{let n=Vc,o=await t.getItem(n);if(o&&o>=Ro){r(t);return}let i=await e.getKeys();if(!i.length){r(t);return}let u=[];for(;i.length;){let f=i.shift();if(!f)continue;let c=f.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){let s=await e.getItem(f);await t.setItem(f,s),u.push(f)}}await t.setItem(n,Ro),r(t),Jc(e,u)},Jc=async(e,t)=>{t.length&&t.forEach(async r=>{await e.removeItem(r)})},Po=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};let t=new Br;this.storage=t;try{let r=new Ir;Yc(t,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(t){return await this.initialize(),this.storage.getItem(t)}async setItem(t,r){return await this.initialize(),this.storage.setItem(t,r)}async removeItem(t){return await this.initialize(),this.storage.removeItem(t)}async initialize(){this.initialized||await new Promise(t=>{let r=setInterval(()=>{this.initialized&&(clearInterval(r),t())},20)})}};var Ho=Ve(qr());var $c=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:Mo(),Gc=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",zo=e=>e.split("?")[0],jo=10,Zc=$c(),ko=class{constructor(t){if(this.url=t,this.events=new Ho.EventEmitter,this.registering=!1,!Et(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);this.url=t}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(t,r){this.events.on(t,r)}once(t,r){this.events.once(t,r)}off(t,r){this.events.off(t,r)}removeListener(t,r){this.events.removeListener(t,r)}async open(t=this.url){await this.register(t)}async close(){return new Promise((t,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),t()},this.socket.close()})}async send(t){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(de(t))}catch(r){this.onError(t.id,r)}}register(t=this.url){if(!Et(t))throw new Error(`Provided URL is not compatible with WebSocket connection: ${t}`);if(this.registering){let r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,o)=>{this.events.once("register_error",i=>{this.resetMaxListeners(),o(i)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return o(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=t,this.registering=!0,new Promise((r,n)=>{let o=(0,vt.isReactNative)()?void 0:{rejectUnauthorized:!Jr(t)},i=new Zc(t,[],o);Gc()?i.onerror=u=>{let f=u;n(this.emitError(f.error))}:i.on("error",u=>{n(this.emitError(u))}),i.onopen=()=>{this.onOpen(i),r(i)}})}onOpen(t){t.onmessage=r=>this.onPayload(r),t.onclose=r=>this.onClose(r),this.socket=t,this.registering=!1,this.events.emit("open")}onClose(t){this.socket=void 0,this.registering=!1,this.events.emit("close",t)}onPayload(t){if(typeof t.data>"u")return;let r=typeof t.data=="string"?he(t.data):t.data;this.events.emit("payload",r)}onError(t,r){let n=this.parseError(r),o=n.message||n.toString(),i=Yr(t,o);this.events.emit("payload",i)}parseError(t,r=this.url){return Vr(t,zo(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>jo&&this.events.setMaxListeners(jo)}emitError(t){let r=this.parseError(new Error(t?.message||`WebSocket connection failed for host: ${zo(this.url)}`));return this.events.emit("register_error",r),r}};export{It as a,un as b,Ti as c,fu as d,hf as e,df as f,pf as g,Du as h,Sc as i,_c as j,wl as k,Dt as l,Ac as m,Co as n,Po as o,ko as p};
/*! Bundled license information:

tslib/tslib.es6.js:
  (*! *****************************************************************************
  Copyright (c) Microsoft Corporation.
  
  Permission to use, copy, modify, and/or distribute this software for any
  purpose with or without fee is hereby granted.
  
  THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
  REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
  AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
  INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
  LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
  OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
  PERFORMANCE OF THIS SOFTWARE.
  ***************************************************************************** *)

@walletconnect/relay-auth/dist/index.es.js:
  (*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
  (*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) *)
*/
